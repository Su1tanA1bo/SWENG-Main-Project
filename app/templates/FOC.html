
{% extends "base.html" %}
{% block app_content %}

<!doctype html>
<html lang="en">
 <head>
   <meta charset="utf-8">
 </head>
 <body>
   <div>
     <canvas id="myChart" width="400" height="200"></canvas>
     <canvas id="myChart2" width="400" height="200"></canvas>
     <canvas id="myChart3" width="400" height="200"></canvas>
   </div>
   <meta name="userList" content="{{listOfUsers}}">
   <meta name="totalComList" content="{{listOfComTotal}}">
   <meta name="avgFrqList" content="{{listOfAvgFrq}}">
   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('myChart');
  const gtx = document.getElementById('myChart2');
  const ftx = document.getElementById('myChart3');

  var listOfUsers = document.getElementsByName('userList')[0].content
  var totalComList = document.getElementsByName('totalComList')[0].content
  var listOfAvgFrq = document.getElementsByName('avgFrqList')[0].content

  listOfUsers = listOfUsers.replace("[", "");
  listOfUsers = listOfUsers.replace("]", "");

  var splitDataOflistOfUsers = listOfUsers.split(",")

  console.log(splitDataOflistOfUsers)

  totalComList = totalComList.replace("[", "");
  totalComList = totalComList.replace("]", "");

  var splitDataOfTotalComList = totalComList.split(",")

  console.log(splitDataOfTotalComList)

  listOfAvgFrq = listOfAvgFrq.replace("[", "");
  listOfAvgFrq = listOfAvgFrq.replace("]", "");

  var splitDataOflistOfAvgFrq = listOfAvgFrq.split(",")

  console.log(splitDataOflistOfAvgFrq)

  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: splitDataOflistOfUsers,
      datasets: [{
        label: 'Total Commits',
        data: splitDataOfTotalComList,
        borderWidth: 1
      }]
    },
    options: {
      responsive: true
    }
  });
  new Chart(gtx, {
    type: 'bar',
    data: {
      labels: splitDataOflistOfUsers,
      datasets: [{
        label: 'Average Frequency',
        data: splitDataOflistOfAvgFrq,
        borderWidth: 1
      }]
    },
    options: {
      responsive: true
    }
  });
  new Chart(ftx, {
    type: 'bar',
    data: {
      labels: splitDataOflistOfUsers,
      datasets: [{
        label: 'Least and Most Commits',
        data: splitDataOflistOfAvgFrq,
        borderWidth: 1
      }]
    },
    options: {
      responsive: true
    }
  });
</script>

 </body>
</html> 
{% endblock %}